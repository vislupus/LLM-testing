<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Windows 11</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  * {margin:0;padding:0;box-sizing:border-box;}
  body,html {height:100%;overflow:hidden;font-family:"Segoe UI",sans-serif;background:#000;}
  #desktop {
    position:absolute;width:100%;height:100%;background:url('https://images.wallpapersden.com/image/download/windows-11-minimal-blue-stock_bGhna22UmZqaraWkpJRmbmdlrWZnZ2k.jpg') center/cover no-repeat;
  }
  .icon {
    position:absolute;width:90px;text-align:center;color:#fff;font-size:13px;cursor:pointer;padding:8px 4px;border-radius:6px;
    text-shadow:0 1px 3px rgba(0,0,0,0.8);
  }
  .icon:hover {background:rgba(255,255,255,0.15);}
  .icon img {width:48px;height:48px;display:block;margin:0 auto 4px;}
  .window {
    position:absolute;background:#fff;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,0.5);
    min-width:400px;min-height:300px;overflow:hidden;z-index:10;
    resize:both;top:80px;left:150px;width:900px;height:600px;
  }
  .titlebar {
    height:40px;background:#0d6ef8;color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 12px;
    cursor:move;user-select:none;font-weight:600;
  }
  .titlebar-buttons button {
    width:36px;height:36px;background:transparent;border:none;color:#fff;font-size:20px;cursor:pointer;opacity:0.8;
  }
  .titlebar-buttons button:hover {background:rgba(255,255,255,0.2);}
  .content {height:calc(100% - 40px);background:#fff;}
  #taskbar {
    position:fixed;bottom:0;left:0;width:100%;height:48px;background:rgba(10,10,10,0.92);
    backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;z-index:99999;
  }
  .taskbar-center {display:flex;gap:8px;}
  .taskbar-center img {width:32px;height:32px;filter:brightness(0) invert(1);}
  .start-btn {position:absolute;left:8px;}
  .clock {position:absolute;right:16px;color:#fff;font-size:13px;}
  .maximized {top:0!important;left:0!important;width:100vw!important;height:calc(100vh - 48px)!important;border-radius:0!important;}
</style>
</head>
<body>

<div id="desktop"></div>

<div id="taskbar">
  <div class="start-btn"><img src="https://img.icons8.com/fluency/48/windows-11.png"></div>
  <div class="taskbar-center"></div>
  <div class="clock"></div>
</div>

<script>
let z = 100;
function createWindow(title, contentHTML = '', callback = null) {
  const win = document.createElement('div');
  win.className = 'window';
  win.style.zIndex = z++;
  win.innerHTML = `
    <div class="titlebar">
      <div>${title}</div>
      <div class="titlebar-buttons">
        <button onclick="this.closest('.window').style.display='none'">‚àí</button>
        <button onclick="toggleMax(this)">‚ñ°</button>
        <button onclick="this.closest('.window').remove()">√ó</button>
      </div>
    </div>
    <div class="content">${contentHTML}</div>
  `;
  document.getElementById('desktop').appendChild(win);
  
  const tb = win.querySelector('.titlebar');
  let ox, oy;
  tb.onmousedown = e => {
    if (e.target.tagName === 'BUTTON') return;
    win.style.zIndex = z++;
    ox = e.clientX - win.offsetLeft;
    oy = e.clientY - win.offsetTop;
    document.onmousemove = ev => {
      win.style.left = (ev.clientX - ox) + 'px';
      win.style.top = (ev.clientY - oy) + 'px';
    };
    document.onmouseup = () => {document.onmousemove = document.onmouseup = null;};
  };
  
  if (callback) callback(win.querySelector('.content'));
  return win;
}

function toggleMax(btn) {
  const win = btn.closest('.window');
  if (win.classList.toggle('maximized')) {
    win.dataset.old = JSON.stringify({t:win.style.top,l:win.style.left,w:win.style.width,h:win.style.height});
    win.style.top = win.style.left = '0';
    win.style.width = '100vw';
    win.style.height = 'calc(100vh - 48px)';
  } else {
    const old = JSON.parse(win.dataset.old);
    win.style.top = old.t; win.style.left = old.l; win.style.width = old.w; win.style.height = old.h;
  }
}

// Apps
const apps = [
  {name:"Google Chrome",icon:"https://img.icons8.com/fluency/96/chrome.png",open:()=>{createWindow('Google Chrome','',c=>{
    const bar = `<div style="padding:8px;background:#eee;display:flex;gap:8px;">
      <input id="addr" style="flex:1;padding:8px;border-radius:4px;border:1px solid #ccc;" value="https://google.com">
      <button onclick="document.getElementById('frame').src=document.getElementById('addr').value">Go</button>
      <button onclick="window.open(document.getElementById('addr').value)">New tab</button>
    </div>`;
    c.innerHTML = bar + `<iframe id="frame" style="width:100%;height:calc(100% - 50px);border:none;" src="https://google.com"></iframe>`;
  })}},
  {name:"File Explorer",icon:"https://img.icons8.com/fluency/96/folder.png",open:()=>{createWindow('File Explorer','',c=>{
    c.innerHTML = `<div style="display:flex;height:100%">
      <div style="width:220px;background:#f0f0f0;padding:16px;">
        <h3>Quick access</h3>
        <ul style="list-style:none;padding:0;"><li>üñºÔ∏è Pictures</li><li>üìÑ Documents</li><li>üíæ Downloads</li></ul>
      </div>
      <div style="padding:30px;flex:1;">
        <h2>This PC</h2>
        <p>This is a visual clone ‚Äî real file access is not possible in the browser.</p>
      </div>
    </div>`;
  })}},
  {name:"Microsoft Word",icon:"https://img.icons8.com/fluency/96/microsoft-word.png",open:()=>{createWindow('Document - Microsoft Word','',c=>{
    c.innerHTML = `<div style="padding:10px;background:#f3f3f3;border-bottom:1px solid #ddd;">
      <button onclick="document.execCommand('bold')">B</button>
      <button onclick="document.execCommand('italic')">I</button>
      <button onclick="document.execCommand('underline')">U</button>
    </div>
    <div contenteditable="true" style="padding:30px;height:calc(100% - 50px);outline:none;overflow-y:auto;">
      <h1>New document</h1><p>Start typing...</p>
    </div>`;
  })}},
  {name:"Paint",icon:"https://img.icons8.com/fluency/96/paint-palette.png",open:()=>{createWindow('Paint','',c=>{
    c.innerHTML = `<div style="background:#f0f0f0;padding:10px;display:flex;gap:10px;">
      <input type="color" id="color" value="#000000">
      <input type="range" min="1" max="50" value="8" id="size">
      <button onclick="ctx.clearRect(0,0,canvas.width,canvas.height);ctx.fillStyle='#fff';ctx.fillRect(0,0,canvas.width,canvas.height)">Clear</button>
    </div>
    <canvas id="canvas" style="background:#fff;display:block;width:100%;height:calc(100% - 56px)"></canvas>`;
    const canvas = c.querySelector('#canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = canvas.clientWidth; canvas.height = canvas.clientHeight;
    ctx.fillStyle = '#fff'; ctx.fillRect(0,0,canvas.width,canvas.height);
    let drawing = false;
    canvas.onmousedown = e => {drawing=true; ctx.beginPath(); ctx.moveTo(e.offsetX, e.offsetY);};
    canvas.onmousemove = e => {
      if(!drawing) return;
      ctx.strokeStyle = c.querySelector('#color').value;
      ctx.lineWidth = c.querySelector('#size').value;
      ctx.lineCap = 'round';
      ctx.lineTo(e.offsetX, e.offsetY);
      ctx.stroke();
    };
    canvas.onmouseup = canvas.onmouseleave = () => drawing=false;
  })}},
  {name:"Calculator",icon:"https://img.icons8.com/fluency/96/calculator.png",open:()=>{createWindow('Calculator','',c=>{
    let display = '0', prev = null, op = null;
    const update = () => c.querySelector('#disp').textContent = display;
    c.innerHTML = `
      <div id="disp" style="background:#000;color:#fff;font-size:40px;text-align:right;padding:20px 15px;">0</div>
      <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1px;height:calc(100% - 80px)">
        ${['C','¬±','%','√∑','7','8','9','√ó','4','5','6','-','1','2','3','+','0','0','.','='].map((k,i)=>{
          if (i===16) return '<button style="grid-column:span 2;background:#1b1b1b;color:#fff;font-size:28px" onclick="input(\'0\')">0</button>';
          const style = ['C','¬±','%'].includes(k) ? '#a5a5a5' : ['√∑','√ó','-','+','='].includes(k) ? '#ff9500' : '#333';
          return `<button style="background:${style};color:#fff;font-size:28px" onclick="input('${k}')">${k==='√ó'?'√ó':k==='√∑'?'√∑':k}</button>`;
        }).join('')}
      </div>`;
    window.input = (k) => {
      if ('0123456789.'.includes(k)) {
        display = display==='0' ? k : display + k;
      } else if (k==='C') {
        display='0'; prev=null; op=null;
      } else if (k==='¬±') {
        display = (-parseFloat(display)).toString();
      } else if (k==='%' ) {
        display = (parseFloat(display)/100).toString();
      } else if ('√∑√ó+-'.includes(k)) {
        prev = parseFloat(display);
        op = k==='√ó'?'*':k==='√∑'?'/':k;
        display = '0';
      } else if (k==='=') {
        if (prev!==null && op) {
          display = eval(`${prev}${op}${parseFloat(display)}`).toString();
          prev=null; op=null;
        }
      }
      update();
    };
    update();
  })}},
  {name:"Notepad",icon:"https://img.icons8.com/fluency/96/notepad.png",open:()=>{createWindow('Untitled - Notepad','',c=>{
    c.innerHTML = `<textarea style="width:100%;height:100%;border:none;outline:none;padding:20px;font-family:Consolas;font-size:15px;resize:none;">Start typing...</textarea>`;
  })}}
];

// Create desktop icons
apps.forEach((app,i) => {
  const ic = document.createElement('div');
  ic.className = 'icon';
  ic.style.left = '20px';
  ic.style.top = (40 + i*100) + 'px';
  ic.innerHTML = `<img src="${app.icon}"><div>${app.name}</div>`;
  ic.ondblclick = app.open;
  document.getElementById('desktop').appendChild(ic);
});

// Taskbar pinned icons
apps.forEach(app => {
  const btn = document.createElement('div');
  btn.innerHTML = `<img src="${app.icon}">`;
  btn.onclick = app.open;
  document.querySelector('.taskbar-center').appendChild(btn);
});

// Clock
setInterval(() => {
  const d = new Date();
  document.querySelector('.clock').innerText = d.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'}) + '\n' + d.toLocaleDateString([], {day:'2-digit',month:'2-digit',year:'2-digit'}).replace(/\//g,'/');
}, 1000);

</script>
</body>
</html>