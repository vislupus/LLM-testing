<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 11 Clone</title>
    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --bg-color: #f3f3f3;
            --taskbar-color: rgba(243, 243, 243, 0.85);
            --window-bg: #ffffff;
            --glass-border: 1px solid rgba(255, 255, 255, 0.3);
            --win-shadow: 0 10px 30px rgba(0,0,0,0.2);
            --primary-blue: #0078d4;
        }

        * { box-sizing: border-box; user-select: none; }
        body {
            margin: 0; padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            background: url('https://images.unsplash.com/photo-1633511090164-b43840ea1607?q=80&w=2070&auto=format&fit=crop') no-repeat center center fixed;
            background-size: cover;
            height: 100vh;
        }

        /* --- DESKTOP ICONS --- */
        .desktop {
            padding: 10px;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            height: 90vh;
            width: fit-content;
            gap: 15px;
        }
        
        .icon {
            width: 80px;
            height: 90px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            transition: 0.2s;
            cursor: pointer;
            color: white;
            text-shadow: 0 1px 3px rgba(0,0,0,0.8);
            font-size: 13px;
            text-align: center;
        }

        .icon:hover { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255,255,255,0.2); }
        .icon img { width: 48px; height: 48px; margin-bottom: 5px; }

        /* --- WINDOW MANAGEMENT --- */
        .window {
            position: absolute;
            background: var(--window-bg);
            border-radius: 8px;
            box-shadow: var(--win-shadow);
            display: none; /* Hidden by default */
            flex-direction: column;
            overflow: hidden;
            border: 1px solid #ccc;
            min-width: 300px;
            min-height: 200px;
            animation: popIn 0.2s ease-out;
        }

        @keyframes popIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; }}

        .title-bar {
            height: 35px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            cursor: default;
        }
        
        .title-bar-text { font-size: 12px; color: #333; }
        .window-controls { display: flex; gap: 10px; }
        .control-btn { width: 12px; height: 12px; border-radius: 50%; cursor: pointer; }
        .close-btn { background: #ff5f56; }
        .min-btn { background: #ffbd2e; }
        .max-btn { background: #27c93f; }

        .window-content { flex-grow: 1; position: relative; overflow: auto; background: white;}

        /* --- APP SPECIFIC STYLES --- */
        /* Calculator */
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; padding: 10px; height: 100%; }
        .calc-display { grid-column: span 4; background: #eee; border: none; font-size: 24px; text-align: right; padding: 10px; outline: none; }
        .calc-btn { background: #fafafa; border: 1px solid #ddd; border-radius: 4px; font-size: 16px; cursor: pointer; }
        .calc-btn:hover { background: #eee; }
        .calc-btn.accent { background: var(--primary-blue); color: white; }

        /* Notepad & Word */
        textarea.notepad-area { width: 100%; height: 100%; border: none; resize: none; padding: 10px; font-family: monospace; outline: none; }
        .word-toolbar { background: #f3f3f3; padding: 5px; border-bottom: 1px solid #ddd; }
        .word-page { padding: 20px; outline: none; min-height: 100%; }

        /* Paint */
        #paintCanvas { cursor: crosshair; }
        .paint-tools { padding: 5px; background: #eee; display: flex; gap: 10px; align-items: center; }
        
        /* Explorer */
        .explorer-sidebar { width: 150px; background: #f7f7f7; border-right: 1px solid #ddd; float: left; height: 100%; padding: 10px; }
        .explorer-main { margin-left: 150px; padding: 10px; display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px;}
        .file-item { text-align: center; font-size: 12px; cursor: pointer; }
        .file-item img { width: 40px; height: 40px; }

        /* Chrome */
        .chrome-bar { background: #dee1e6; padding: 5px; display: flex; gap: 5px; }
        .url-bar { flex-grow: 1; border-radius: 15px; border: none; padding: 5px 15px; font-size: 12px; outline: none; }
        iframe { width: 100%; height: 100%; border: none; }

        /* --- TASKBAR --- */
        .taskbar {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 48px;
            background: var(--taskbar-color);
            backdrop-filter: blur(20px);
            display: flex;
            justify-content: center;
            align-items: center;
            border-top: 1px solid rgba(255,255,255,0.4);
            z-index: 1000;
        }

        .taskbar-icons { display: flex; gap: 10px; height: 100%; align-items: center; }
        .tb-icon {
            width: 40px; height: 40px;
            border-radius: 4px;
            display: flex; justify-content: center; align-items: center;
            transition: 0.2s;
            cursor: pointer;
        }
        .tb-icon:hover { background: rgba(255,255,255,0.5); }
        .tb-icon:active { transform: scale(0.9); }
        .tb-icon img { width: 26px; height: 26px; }

        .system-tray {
            position: absolute; right: 10px;
            display: flex; align-items: center; gap: 10px;
            font-size: 12px; color: #333;
        }

        /* --- START MENU --- */
        .start-menu {
            position: absolute;
            bottom: 55px;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            height: 500px;
            background: rgba(243, 243, 243, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 8px;
            border: 1px solid #ccc;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            display: none;
            z-index: 1001;
            padding: 20px;
        }
        .start-menu.active { display: block; }
        .start-search { width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #ccc; margin-bottom: 20px; }
        .pinned-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 15px; }

    </style>
</head>
<body>

    <div class="desktop">
        <div class="icon" onclick="openWindow('explorer')">
            <img src="https://img.icons8.com/color/96/000000/folder-invoices--v1.png" alt="Explorer">
            <span>This PC</span>
        </div>
        <div class="icon" onclick="openWindow('chrome')">
            <img src="https://img.icons8.com/color/96/000000/chrome--v1.png" alt="Chrome">
            <span>Google Chrome</span>
        </div>
        <div class="icon" onclick="openWindow('word')">
            <img src="https://img.icons8.com/color/96/000000/microsoft-word-2019--v2.png" alt="Word">
            <span>Word</span>
        </div>
        <div class="icon" onclick="openWindow('paint')">
            <img src="https://img.icons8.com/color/96/000000/mspaint.png" alt="Paint">
            <span>Paint</span>
        </div>
        <div class="icon" onclick="openWindow('calc')">
            <img src="https://img.icons8.com/color/96/000000/calculator--v1.png" alt="Calc">
            <span>Calculator</span>
        </div>
        <div class="icon" onclick="openWindow('notepad')">
            <img src="https://img.icons8.com/color/96/000000/notepad.png" alt="Notepad">
            <span>Notepad</span>
        </div>
    </div>

    <div id="win-calc" class="window" style="top: 100px; left: 100px; width: 250px; height: 350px;">
        <div class="title-bar" onmousedown="dragMouseDown(event, 'win-calc')">
            <span class="title-bar-text">Calculator</span>
            <div class="window-controls">
                <div class="control-btn min-btn"></div>
                <div class="control-btn max-btn"></div>
                <div class="control-btn close-btn" onclick="closeWindow('win-calc')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="calc-grid">
                <input type="text" class="calc-display" id="calc-display" readonly>
                <button class="calc-btn" onclick="calcAppend('7')">7</button>
                <button class="calc-btn" onclick="calcAppend('8')">8</button>
                <button class="calc-btn" onclick="calcAppend('9')">9</button>
                <button class="calc-btn" onclick="calcAppend('/')">/</button>
                <button class="calc-btn" onclick="calcAppend('4')">4</button>
                <button class="calc-btn" onclick="calcAppend('5')">5</button>
                <button class="calc-btn" onclick="calcAppend('6')">6</button>
                <button class="calc-btn" onclick="calcAppend('*')">*</button>
                <button class="calc-btn" onclick="calcAppend('1')">1</button>
                <button class="calc-btn" onclick="calcAppend('2')">2</button>
                <button class="calc-btn" onclick="calcAppend('3')">3</button>
                <button class="calc-btn" onclick="calcAppend('-')">-</button>
                <button class="calc-btn" onclick="calcAppend('0')">0</button>
                <button class="calc-btn" onclick="calcClear()">C</button>
                <button class="calc-btn accent" onclick="calcEval()">=</button>
                <button class="calc-btn" onclick="calcAppend('+')">+</button>
            </div>
        </div>
    </div>

    <div id="win-notepad" class="window" style="top: 150px; left: 300px; width: 400px; height: 300px;">
        <div class="title-bar" onmousedown="dragMouseDown(event, 'win-notepad')">
            <span class="title-bar-text">Untitled - Notepad</span>
            <div class="window-controls">
                <div class="control-btn min-btn"></div>
                <div class="control-btn max-btn"></div>
                <div class="control-btn close-btn" onclick="closeWindow('win-notepad')"></div>
            </div>
        </div>
        <div class="window-content">
            <textarea class="notepad-area" placeholder="Type here..."></textarea>
        </div>
    </div>

    <div id="win-chrome" class="window" style="top: 50px; left: 150px; width: 800px; height: 500px;">
        <div class="title-bar" onmousedown="dragMouseDown(event, 'win-chrome')">
            <span class="title-bar-text">Google Chrome</span>
            <div class="window-controls">
                <div class="control-btn min-btn"></div>
                <div class="control-btn max-btn"></div>
                <div class="control-btn close-btn" onclick="closeWindow('win-chrome')"></div>
            </div>
        </div>
        <div class="window-content" style="display: flex; flex-direction: column; height: 100%;">
            <div class="chrome-bar">
                <input type="text" class="url-bar" value="https://www.wikipedia.org" id="chrome-url">
                <button onclick="loadUrl()">Go</button>
            </div>
            <iframe id="browser-frame" src="https://www.wikipedia.org"></iframe>
        </div>
    </div>

    <div id="win-paint" class="window" style="top: 80px; left: 200px; width: 600px; height: 450px;">
        <div class="title-bar" onmousedown="dragMouseDown(event, 'win-paint')">
            <span class="title-bar-text">Paint</span>
            <div class="window-controls">
                <div class="control-btn min-btn"></div>
                <div class="control-btn max-btn"></div>
                <div class="control-btn close-btn" onclick="closeWindow('win-paint')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="paint-tools">
                <button onclick="paintColor = 'black'">Black</button>
                <button onclick="paintColor = 'red'" style="color:red">Red</button>
                <button onclick="paintColor = 'blue'" style="color:blue">Blue</button>
                <button onclick="clearCanvas()">Clear</button>
            </div>
            <canvas id="paintCanvas" width="580" height="380" style="background: white; border:1px solid #ccc; margin: 10px;"></canvas>
        </div>
    </div>

    <div id="win-word" class="window" style="top: 60px; left: 250px; width: 700px; height: 550px;">
        <div class="title-bar" style="background: #2b579a; color: white;" onmousedown="dragMouseDown(event, 'win-word')">
            <span class="title-bar-text" style="color:white">Document1 - Word</span>
            <div class="window-controls">
                <div class="control-btn min-btn"></div>
                <div class="control-btn max-btn"></div>
                <div class="control-btn close-btn" onclick="closeWindow('win-word')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="word-toolbar">
                <button onclick="document.execCommand('bold',false,null)"><b>B</b></button>
                <button onclick="document.execCommand('italic',false,null)"><i>I</i></button>
                <button onclick="document.execCommand('underline',false,null)"><u>U</u></button>
            </div>
            <div class="word-page" contenteditable="true">
                <h1>Report</h1>
                <p>Start typing your document here...</p>
            </div>
        </div>
    </div>

    <div id="win-explorer" class="window" style="top: 120px; left: 120px; width: 600px; height: 400px;">
        <div class="title-bar" onmousedown="dragMouseDown(event, 'win-explorer')">
            <span class="title-bar-text">File Explorer</span>
            <div class="window-controls">
                <div class="control-btn min-btn"></div>
                <div class="control-btn max-btn"></div>
                <div class="control-btn close-btn" onclick="closeWindow('win-explorer')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="chrome-bar">
                <span>Quick Access</span>
            </div>
            <div class="explorer-sidebar">
                <p>Desktop</p>
                <p>Downloads</p>
                <p>Documents</p>
                <p>Pictures</p>
            </div>
            <div class="explorer-main">
                <div class="file-item"><img src="https://img.icons8.com/color/96/000000/folder-invoices--v1.png"><br>Work</div>
                <div class="file-item"><img src="https://img.icons8.com/color/96/000000/image-file.png"><br>Photo.jpg</div>
                <div class="file-item"><img src="https://img.icons8.com/color/96/000000/txt.png"><br>Notes.txt</div>
            </div>
        </div>
    </div>

    <div class="start-menu" id="start-menu">
        <input type="text" class="start-search" placeholder="Type here to search">
        <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px;">Pinned</div>
        <div class="pinned-grid">
            <div class="icon" onclick="openWindow('word')"><img src="https://img.icons8.com/color/48/000000/microsoft-word-2019--v2.png"><span>Word</span></div>
            <div class="icon" onclick="openWindow('chrome')"><img src="https://img.icons8.com/color/48/000000/chrome--v1.png"><span>Chrome</span></div>
            <div class="icon" onclick="openWindow('calc')"><img src="https://img.icons8.com/color/48/000000/calculator--v1.png"><span>Calc</span></div>
            <div class="icon"><img src="https://img.icons8.com/color/48/000000/spotify--v1.png"><span>Spotify</span></div>
            <div class="icon"><img src="https://img.icons8.com/color/48/000000/netflix-desktop-app.png"><span>Netflix</span></div>
            <div class="icon"><img src="https://img.icons8.com/fluency/48/000000/microsoft-store.png"><span>Store</span></div>
        </div>
    </div>

    <div class="taskbar">
        <div class="taskbar-icons">
            <div class="tb-icon" onclick="toggleStartMenu()" title="Start">
                <img src="https://img.icons8.com/fluency/48/000000/windows-11.png" alt="Start">
            </div>
            <div class="tb-icon" onclick="openWindow('chrome')"><img src="https://img.icons8.com/color/48/000000/chrome--v1.png"></div>
            <div class="tb-icon" onclick="openWindow('explorer')"><img src="https://img.icons8.com/color/48/000000/folder-invoices--v1.png"></div>
            <div class="tb-icon" onclick="openWindow('word')"><img src="https://img.icons8.com/color/48/000000/microsoft-word-2019--v2.png"></div>
        </div>
        <div class="system-tray">
            <span>&#128266;</span>
            <span>&#128172;</span>
            <span id="clock">12:00 PM</span>
        </div>
    </div>

    <script>
        // --- CLOCK FUNCTION ---
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; 
            document.getElementById('clock').innerText = `${hours}:${minutes} ${ampm}`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // --- WINDOW MANAGEMENT ---
        let highestZ = 10;

        function openWindow(appId) {
            const winId = 'win-' + appId;
            const win = document.getElementById(winId);
            if (win) {
                win.style.display = 'flex';
                bringToFront(winId);
                // Close start menu if open
                document.getElementById('start-menu').classList.remove('active');
            }
        }

        function closeWindow(winId) {
            document.getElementById(winId).style.display = 'none';
        }

        function bringToFront(winId) {
            highestZ++;
            document.getElementById(winId).style.zIndex = highestZ;
        }

        // Add click event to windows to bring them to front
        const windows = document.querySelectorAll('.window');
        windows.forEach(win => {
            win.addEventListener('mousedown', function() {
                bringToFront(this.id);
            });
        });

        function toggleStartMenu() {
            document.getElementById('start-menu').classList.toggle('active');
        }

        // --- DRAG LOGIC ---
        function dragMouseDown(e, id) {
            e = e || window.event;
            e.preventDefault();
            const elmnt = document.getElementById(id);
            bringToFront(id); // Bring to front on drag start
            
            let pos3 = e.clientX;
            let pos4 = e.clientY;

            document.onmouseup = closeDragElement;
            document.onmousemove = elementDrag;

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                let pos1 = pos3 - e.clientX;
                let pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        // --- APP LOGIC ---

        // Calculator
        function calcAppend(val) {
            document.getElementById('calc-display').value += val;
        }
        function calcClear() {
            document.getElementById('calc-display').value = '';
        }
        function calcEval() {
            try {
                const result = eval(document.getElementById('calc-display').value);
                document.getElementById('calc-display').value = result;
            } catch (e) {
                document.getElementById('calc-display').value = 'Error';
            }
        }

        // Paint
        const canvas = document.getElementById('paintCanvas');
        const ctx = canvas.getContext('2d');
        let painting = false;
        let paintColor = 'black';

        function startPosition(e) {
            painting = true;
            draw(e);
        }
        function finishedPosition() {
            painting = false;
            ctx.beginPath();
        }
        function draw(e) {
            if (!painting) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.strokeStyle = paintColor;

            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }

        canvas.addEventListener('mousedown', startPosition);
        canvas.addEventListener('mouseup', finishedPosition);
        canvas.addEventListener('mousemove', draw);
        function clearCanvas() { ctx.clearRect(0,0, canvas.width, canvas.height); }

        // Chrome
        function loadUrl() {
            const url = document.getElementById('chrome-url').value;
            // Basic validation to add http if missing
            let finalUrl = url;
            if(!url.startsWith('http')) finalUrl = 'https://' + url;
            document.getElementById('browser-frame').src = finalUrl;
        }

    </script>
</body>
</html>