<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronos Quest: Master the Timeline</title>
    <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.2.0/dist/svg.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a0033, #330066, #660033);
            color: #f0d4ff;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #game {
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle at center, #220044 0%, #000011 100%);
            position: relative;
        }
        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            color: #ffd700;
            text-shadow: 0 0 20px #ff00ff, 0 0 40px #00ffff;
            z-index: 100;
            pointer-events: none;
        }
        .subtitle {
            font-size: 20px;
            color: #aa66ff;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="game"></div>
    <div class="title">
        CHRONOS QUEST
        <div class="subtitle">Master the Timeline</div>
    </div>

    <script>
        // Chronos Quest: Master the Timeline
        // An original educational board game about world history
        // Created with pure SVG.js in a single HTML file

        const WIDTH = window.innerWidth;
        const HEIGHT = window.innerHeight;
        const draw = SVG().addTo('#game').size(WIDTH, HEIGHT);

        // Game state
        const game = {
            players: [
                { name: "Player 1", color: "#ff0066", position: 0, artifacts: 0, icon: "â˜…" },
                { name: "Player 2", color: "#00ffff", position: 0, artifacts: 0, icon: "âœ¦" }
            ],
            currentPlayer: 0,
            turn: 1,
            diceValue: 0,
            gameOver: false
        };

        // Historical timeline path (50 spaces through time)
        const timeline = [
            { era: "Prehistory", year: "-3000", event: "Invention of Writing" },
            { era: "Ancient Egypt", year: "-2600", event: "Great Pyramid Built" },
            { era: "Ancient Greece", year: "-776", event: "First Olympics" },
            { era: "Roman Empire", year: "27 BC", event: "Augustus Becomes Emperor" },
            { era: "Fall of Rome", year: "476", event: "Western Rome Falls" },
            { era: "Islamic Golden Age", year: "800", event: "House of Wisdom" },
            { era: "Viking Age", year: "1000", event: "Leif Erikson Reaches America" },
            { era: "Crusades", year: "1099", event: "Jerusalem Captured" },
            { era: "Magna Carta", year: "1215", event: "King John Signs Charter" },
            { era: "Black Death", year: "1348", event: "Pandemic Peaks" },
            { era: "Renaissance", year: "1492", event: "Columbus Sails" },
            { era: "Reformation", year: "1517", event: "Luther's 95 Theses" },
            { era: "Age of Exploration", year: "1607", event: "Jamestown Founded" },
            { era: "Scientific Revolution", year: "1687", event: "Newton's Principia" },
            { era: "American Revolution", year: "1776", event: "Declaration of Independence" },
            { era: "French Revolution", year: "1789", event: "Storming of Bastille" },
            { era: "Industrial Revolution", year: "1830", event: "Steam Power Dominates" },
            { era: "Victorian Era", year: "1888", event: "Jack the Ripper" },
            { era: "World War I", year: "1914", event: "The Great War Begins" },
            { era: "Roaring Twenties", year: "1920", event: "Prohibition Era" },
            { era: "World War II", year: "1939", event: "War Erupts in Europe" },
            { era: "Cold War", year: "1962", event: "Cuban Missile Crisis" },
            { era: "Space Age", year: "1969", event: "Moon Landing" },
            { era: "Digital Revolution", year: "1989", event: "World Wide Web" },
            { era: "21st Century", year: "2024", event: "Present Day" }
        ];

        // Artifact questions (real historical facts)
        const artifacts = [
            { name: "Rosetta Stone", year: "196 BC", question: "Which artifact helped decode Egyptian hieroglyphs?", options: ["Dead Sea Scrolls", "Rosetta Stone", "Behistun Inscription"], answer: 1 },
            { name: "Mona Lisa", year: "1503", question: "Who painted the Mona Lisa?", options: ["Michelangelo", "Raphael", "Leonardo da Vinci"], answer: 2 },
            { name: "Gutenberg Bible", year: "1455", question: "What revolutionized printing in Europe?", options: ["Steam Press", "Movable Type", "Lithography"], answer: 1 },
            { name: "Liberty Bell", year: "1752", question: "What famous bell cracked while ringing for freedom?", options: ["Big Ben", "Liberty Bell", "Tsar Bell"], answer: 1 },
            { name: "Sputnik", year: "1957", question: "What was the first artificial satellite?", options: ["Explorer 1", "Vanguard", "Sputnik"], answer: 2 }
        ];

        // Draw the cosmic timeline board
        const board = draw.group();
        const pathRadius = Math.min(WIDTH, HEIGHT) * 0.35;
        const centerX = WIDTH / 2;
        const centerY = HEIGHT / 2;

        // Draw starry background
        for (let i = 0; i < 300; i++) {
            draw.circle(Math.random() * 4)
                .move(Math.random() * WIDTH, Math.random() * HEIGHT)
                .fill('#ffffff')
                .opacity(0.3 + Math.random() * 0.7);
        }

        // Draw timeline spiral
        const spaces = timeline.length;
        const spiralGroup = board.group();
        
        timeline.forEach((space, i) => {
            const angle = (i / spaces) * Math.PI * 8; // 4 full rotations
            const radius = pathRadius * (i / spaces);
            const x = centerX + Math.cos(angle) * radius;
            const y = centerY + Math.sin(angle) * radius;

            // Space circle
            const circle = spiralGroup.circle(60)
                .center(x, y)
                .fill(i % 5 === 0 ? '#ffd700' : '#6633ff')
                .stroke({ width: 4, color: '#ffffff' })
                .opacity(0.8);

            // Era label
            spiralGroup.text(space.era)
                .font({ size: 14, weight: 'bold', family: 'Georgia' })
                .center(x, y - 15)
                .fill('#ffffff');

            spiralGroup.text(space.year)
                .font({ size: 12, family: 'Georgia' })
                .center(x, y + 5)
                .fill('#ffcc00');

            // Artifact spaces (every 5th space)
            if (i % 5 === 0 && i > 0 && i < spaces - 1) {
                spiralGroup.text('Artifact')
                    .font({ size: 10, weight: 'bold' })
                    .center(x, y + 25)
                    .fill('#ff00ff');
            }

            space.x = x;
            space.y = y;
            space.circle = circle;
        });

        // Draw time vortex center
        const vortex = draw.group();
        for (let i = 10; i > 0; i--) {
            vortex.circle(i * 20)
                .center(centerX, centerY)
                .fill('none')
                .stroke({ width: 3, color: `hsl(${i*36}, 100%, 50%)` })
                .opacity(0.6);
        }

        // Players
        const playerGroup = draw.group();
        game.players.forEach(player => {
            player.piece = playerGroup.text(player.icon)
                .font({ size: 40 })
                .center(centerX, centerY)
                .fill(player.color)
                .stroke({ width: 3, color: '#ffffff' });
        });

        // UI Elements
        const ui = draw.group();

        // Dice
        const dice = ui.group().move(WIDTH - 200, HEIGHT - 200);
        const diceBg = dice.rect(120, 120).radius(20).fill('#220033').stroke({ width: 4, color: '#aa00ff' });
        const diceText = dice.text('ðŸŽ² Roll')
            .font({ size: 32, weight: 'bold' })
            .center(60, 40)
            .fill('#ffffff');
        const diceValue = dice.text('')
            .font({ size: 48, weight: 'bold' })
            .center(60, 80)
            .fill('#ffff00');

        dice.click(() => rollDice());

        // Current player indicator
        const turnIndicator = ui.text('')
            .font({ size: 28, weight: 'bold' })
            .move(50, HEIGHT - 100)
            .fill('#ffffff');

        // Question modal
        const modal = ui.group().hide();
        const modalBg = modal.rect(600, 400).center(centerX, centerY).radius(30)
            .fill('rgba(0,0,50,0.95)')
            .stroke({ width: 6, color: '#ff00ff' });
        
        const questionText = modal.text('')
            .font({ size: 24, weight: 'bold', family: 'Georgia' })
            .center(centerX, centerY - 100)
            .fill('#ffd700');

        const optionsGroup = modal.group();

        // Victory screen
        const victory = ui.group().hide();
        victory.rect(WIDTH, HEIGHT).fill('rgba(0,0,0,0.8)');
        victory.text('VICTORY!')
            .font({ size: 80, weight: 'bold' })
            .center(centerX, centerY - 50)
            .fill('#ffd700')
            .stroke({ width: 4, color: '#ff00ff' });

        // Functions
        function updateTurnIndicator() {
            const player = game.players[game.currentPlayer];
            turnIndicator.text(`${player.name}'s Turn (${player.icon})`)
                .fill(player.color);
        }

        function rollDice() {
            if (game.gameOver) return;
            
            const roll = Math.floor(Math.random() * 6) + 1;
            diceValue.text(roll.toString());
            
            game.diceValue = roll;
            
            setTimeout(() => movePlayer(roll), 800);
        }

        function movePlayer(steps) {
            const player = game.players[game.currentPlayer];
            const oldPos = player.position;
            player.position = Math.min(oldPos + steps, timeline.length - 1);
            
            const targetSpace = timeline[player.position];
            
            // Animate movement
            player.piece.animate(600, 0, 'now')
                .move(targetSpace.x - 30, targetSpace.y - 30);
            
            setTimeout(() => {
                if (player.position === timeline.length - 1) {
                    endGame(player);
                } else if (player.position % 5 === 0 && player.position > 0) {
                    askArtifactQuestion();
                } else {
                    nextTurn();
                }
            }, 800);
        }

        function askArtifactQuestion() {
            const artifact = artifacts[Math.floor(Math.random() * artifacts.length)];
            
            modal.show();
            questionText.text(`Artifact SPACE!\n"${artifact.name}" (${artifact.year})\n\n${artifact.question}`);
            
            optionsGroup.clear();
            artifact.options.forEach((option, i) => {
                const btn = optionsGroup.text(option)
                    .font({ size: 20, weight: 'bold' })
                    .center(centerX, centerY + 50 + i * 60)
                    .fill(i === artifact.answer ? '#00ff00' : '#ffffff')
                    .stroke({ width: 3, color: '#aa00ff' })
                    .cursor('pointer');
                
                btn.rect(400, 50).center(centerX, centerY + 50 + i * 60)
                    .radius(15)
                    .fill('rgba(100,0,150,0.6)')
                    .stroke({ width: 3, color: '#ff00ff' })
                    .back();
                
                btn.click(() => {
                    modal.hide();
                    if (i === artifact.answer) {
                        game.players[game.currentPlayer].artifacts++;
                        alert(`Correct! You collected the ${artifact.name}!`);
                    } else {
                        alert(`Wrong! The answer was "${artifact.options[artifact.answer]}"`);
                    }
                    nextTurn();
                });
            });
        }

        function nextTurn() {
            game.currentPlayer = (game.currentPlayer + 1) % game.players.length;
            game.turn++;
            updateTurnIndicator();
            diceValue.text('');
        }

        function endGame(winner) {
            game.gameOver = true;
            victory.show();
            victory.text(`${winner.name} Wins!\nCollected ${winner.artifacts} Artifacts`)
                .font({ size: 60, weight: 'bold' })
                .center(centerX, centerY + 50)
                .fill(winner.color);
        }

        // Initialize
        updateTurnIndicator();
        
        // Resize handling
        window.addEventListener('resize', () => {
            location.reload();
        });
    </script>
</body>
</html>